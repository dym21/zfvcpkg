cmake_minimum_required(VERSION 3.16)
project(charsetdetect)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")
set(FLAGS -fPIC)
include_directories(. nspr-emu mozilla/extensions/universalchardet/src/base/)
file(GLOB charsetdetect_lib_src mozilla/extensions/universalchardet/src/base/*.cpp)
set(charsetdetect_lib_src ${charsetdetect_lib_src} charsetdetect.cpp)
add_library(charsetdetect STATIC ${charsetdetect_lib_src})
set(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/build)
install(TARGETS charsetdetect DESTINATION lib)
install(FILES charsetdetect.h DESTINATION include)
